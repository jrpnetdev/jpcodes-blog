---
title: The difference between useEffect & useState in React
date: '2025-11-11'
tags: ['React', 'feature', 'code']
draft: false
summary: The difference between useEffect & useState in React
---

In React, **`useState`** and **`useEffect`** are both hooks, but they solve _very different_ problems.

---

## âœ… **`useState` â€“ for storing and updating state**

`useState` lets your component hold **data that changes over time**.

### When to use:

- You want to store a value (count, form input, toggle, etc.)
- You want the UI to update when that value changes

### Example:

```jsx
const [count, setCount] = useState(0)

;<button onClick={() => setCount(count + 1)}>Add</button>
```

### Key idea:

- Changing state triggers a **re-render** of the component.

---

## âœ… **`useEffect` â€“ for running side effects**

`useEffect` lets you run **code that happens outside the UI rendering process**, such asâ€¦

### When to use:

- Fetching API data
- Subscribing/unsubscribing to events
- Timers (`setTimeout`, `setInterval`)
- Synchronizing localStorage
- Running code _when props or state change_

### Example:

```jsx
useEffect(() => {
  console.log('Component mounted or count changed')
}, [count])
```

### Key idea:

- `useEffect` runs **after render**, not during it.

---

## ğŸ” Summary Table

| Feature             | `useState`                    | `useEffect`                             |
| ------------------- | ----------------------------- | --------------------------------------- |
| Purpose             | Store and update state        | Run side effects                        |
| Triggers re-render? | âœ” Yes                        | âŒ No (but state changes inside it can) |
| Runs during render? | âœ” Yes                        | âŒ No, runs after render                |
| Typical uses        | UI data, form values, toggles | API calls, event listeners, timers      |

---

## ğŸ¯ Simple understanding:

- **`useState` = â€œI need to remember something.â€**
- **`useEffect` = â€œI need to do something when something changes.â€**

---

Here are **simple examples + a real-world analogy** to clearly show the difference between `useState` and `useEffect`.

---

# ğŸ”µ 1. Simple Code Examples

## **`useState` Example â€” Counting clicks**

You store a number and update it when a button is clicked.

```jsx
function Counter() {
  const [count, setCount] = useState(0)

  return <button onClick={() => setCount(count + 1)}>Count: {count}</button>
}
```

ğŸ‘‰ `useState` is about **saving data** and **updating the UI**.

---

## **`useEffect` Example â€” Fetching data**

You fetch data after the component renders.

```jsx
useEffect(() => {
  fetch('https://api.example.com/users')
    .then((res) => res.json())
    .then((data) => console.log(data))
}, [])
```

ğŸ‘‰ `useEffect` is about **running effects outside React**, such as fetching data or setting timers.

---

# ğŸŸ¢ 2. Real-World Analogy

### ğŸ“Œ `useState` = A notebook inside your room

You write something down and you can read it anytime.

- Example: Your to-do list
- When you update the list â†’ **your room layout changes** (UI re-renders)

---

### ğŸ“Œ `useEffect` = An alarm clock in your room

It does something **after** a certain change or time.

- Example: When you wake up, your alarm rings
- When time changes â†’ **the alarm performs a side action**

It doesnâ€™t change the roomâ€™s layout by itselfâ€”it just triggers actions **outside** the room.

---

# ğŸŸ£ 3. How They Work Together

Example: When the "city" state changes, fetch new weather data.

```jsx
const [city, setCity] = useState('London')

useEffect(() => {
  console.log('Fetching weather data for:', city)
  // fetch API here...
}, [city])
```

- `useState` stores **current city name**
- `useEffect` runs **when city changes**

---

# ğŸŸ  Final One-Line Difference

- **`useState` â†’ stores and updates data inside your component.**
- **`useEffect` â†’ runs side effects when the component renders or when data changes.**

---

Here is a clean **side-by-side visual diagram** comparing `useState` vs `useEffect` in an easy-to-remember way:

---

# ğŸ”µ **useState vs useEffect â€” Side-by-Side Diagram**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          useState            â”‚            useEffect           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Purpose:                     â”‚ Purpose:                       â”‚
â”‚ Store and update data        â”‚ Run side effects (work outside â”‚
â”‚ inside the component         â”‚ Reactâ€™s render cycle)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ When it runs:                â”‚ When it runs:                  â”‚
â”‚ During render                â”‚ After render                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ What it does:                â”‚ What it does:                  â”‚
â”‚ Causes the UI to re-render   â”‚ Does NOT re-render (unless     â”‚
â”‚ when state changes           â”‚ state inside it changes)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Typical uses:                â”‚ Typical uses:                  â”‚
â”‚ âœ” counters                   â”‚ âœ” API calls                    â”‚
â”‚ âœ” toggles                    â”‚ âœ” event listeners              â”‚
â”‚ âœ” form input values          â”‚ âœ” setTimeout / setInterval     â”‚
â”‚ âœ” UI state                   â”‚ âœ” sync with localStorage       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Code example:                â”‚ Code example:                  â”‚
â”‚ const [count, setCount] =    â”‚ useEffect(() => {              â”‚
â”‚   useState(0);               â”‚   fetchData();                 â”‚
â”‚                              â”‚ }, []);                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mental model:                â”‚ Mental model:                  â”‚
â”‚ â€œRemember this value.â€       â”‚ â€œDo something when things      â”‚
â”‚                              â”‚ change.â€                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ¯ Quick Visual Summary

```
useState  â†’  Stores data  â†’  Triggers re-render
useEffect â†’  Runs side effects â†’ Runs after render
```

---

Here is a clean, easy-to-read **ASCII flow diagram** showing how React flows with `useState` and `useEffect`:

---

# ğŸ”µ **React Component Flow (with useState & useEffect)**

### **ASCII Diagram**

```
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚     Component Mounts     â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚       Render UI          â”‚
                     â”‚  (reads props + state)   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                           â”‚
                     â–¼                           â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   useState       â”‚       â”‚     useEffect          â”‚
          â”‚  returns state   â”‚       â”‚ runs AFTER render      â”‚
          â”‚  + setState fn   â”‚       â”‚ (side effects here)    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                            â”‚
         User clicks â”‚ setState(...)              â”‚ dependencies change?
                    â”‚                            â”‚
                    â–¼                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ Yes
        â”‚    State Updates        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ triggers
                      â–¼ re-render
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   Re-render UI      â”‚
             â”‚ (read new state)    â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Run useEffect again â”‚
             â”‚ if deps changed     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ”¥ **Explanation of Flow**

### **1. Component mounts**

React reads your JSX and your hooks.

### **2. React renders the UI**

`useState` gives initial values.

### **3. After UI is painted**

`useEffect` runs **after** the render.

### **4. When setState is called**

- State changes
- React **re-renders** the component
- After re-render â†’ `useEffect` runs again **if dependencies changed**

---
